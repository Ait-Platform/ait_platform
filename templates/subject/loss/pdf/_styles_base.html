<style>
/* ====== Base / Typography ====== */
:root { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
html, body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
  font-size: 13px; line-height: 1.5; color: #0f172a; }
h1{ font-size: 26px; font-weight: 800; margin: 0.6rem 0 0.25rem }
h2{ font-size: 18px; font-weight: 700; margin: 0.75rem 0 0.25rem }
h3{ font-size: 16px; font-weight: 700; margin: 0.75rem 0 0.25rem }
h4{ font-size: 14px; font-weight: 700; margin: 0.6rem 0 0.25rem }
p { margin: 0.4rem 0; }
ul{ margin: 0.4rem 0 0.6rem 1.2rem }
li{ margin: 0.2rem 0 }
img{ max-width:100%; height:auto }

.report-header { text-align: center; margin: 8mm 0 4mm; }
.report-title  { font-size: 26px; font-weight: 800; margin: 0; }
.report-subline{ font-size: 12px; color: #64748b; margin-top: 4px; }


/* Hide “Skip to content” and similar anchors in PDF */
a.skip-link, a[href^="#"]{ display:none !important }

/* ====== Cards / Containers ====== */
.pdf-card, .phase-card { border:1px solid #e2e8f0; border-radius:12px; background:#fff; padding:16px; margin-top:16px }
.bg-slate-50{ background:#f8fafc } .bg-white{ background:#fff }
.border{ border:1px solid #e2e8f0 } .rounded-xl{ border-radius:12px } .rounded-2xl{ border-radius:16px }

/* ====== Text utilities ====== */
.small{ font-size:.78rem } .muted{ color:#475569 } .text-slate-800{ color:#1f2937 } .text-slate-700{ color:#374151 }
.text-slate-600{ color:#4b5563 }

/* ====== Chips ====== */
.chip{ display:inline-block; border-radius:9999px; padding:.15rem .6rem; font-weight:600; font-size:.78rem; background:#f1f5f9; color:#0f172a; border:1px solid #e2e8f0 }
.chip-emerald{ background:#ecfdf5; color:#047857; border-color:#a7f3d0 }
.chip-amber{   background:#fffbeb; color:#92400e; border-color:#fde68a }
.chip-rose{    background:#fef2f2; color:#991b1b; border-color:#fecaca }
.chip-blue{    background:#eff6ff; color:#1e40af; border-color:#bfdbfe }
.chip-lightemerald{ background:#f0fdf4; color:#065f46; border-color:#bbf7d0 }
.chip-av-coping{ background:#e6f9ef; color:#065f46; border-color:#a7f3d0 }
.chip-av-slightlycoping{ background:#fff7ed; color:#92400e; border-color:#fed7aa }
.chip-av-notcoping{ background:#fef2f2; color:#991b1b; border-color:#fecaca }

/* ====== Neutralize any legacy graph wrappers ====== */
.loss-graph-area, .loss-graph-wrap { background: transparent !important; border: none !important; }

/* ===================================================================== */
/* ===============  Horizontal bars (per-phase & group)  =============== */
/* ===================================================================== */
.hbar-wrap{ margin-top:6px }
.hbar-scale{ display:flex; justify-content:space-between; font-size:.75rem; color:#475569; margin-bottom:4px }
.hbar{ width:100% }
.hbar-track{
  display:grid; grid-template-columns:repeat(100, 1fr);
  gap:0; height:16px; border:1px solid #cbd5e1; border-radius:8px; overflow:hidden;
}
.hseg{ background:transparent }
.hseg--filled{ background:currentColor }   /* gets color from palette class below */
.hseg--emerald{ color:#10b981 }  /* good */
.hseg--amber{   color:#f59e0b }  /* medium */
.hseg--rose{    color:#ef4444 }  /* high (phases 1–3) */
.hseg--blue{    color:#3b82f6 }  /* low (phase 4) */
.hseg--mint{    color:#34d399 }  /* mid (phase 4) */
.hbar-meta{ display:flex; justify-content:space-between; align-items:center; margin-top:4px; font-size:.8rem; color:#334155 }
.hbar-label{ font-weight:600 } .hbar-pct{ font-weight:700 }
.hbar-group{ display:flex; flex-direction:column; gap:10px; margin:8px 0 12px }

/* ===================================================================== */
/* ===================  Vertical 4-bar chart (summary)  ================= */
/* ===================================================================== */
.vbar-wrap { border:1px solid #cbd5e1; border-radius:12px; background:#fff; padding:12px; margin-top:8px }
.vbar-scale { display:flex; justify-content:space-between; font-size:.75rem; color:#475569; margin-bottom:6px }
.vbar-area {
  position:relative; height:260px; border-radius:10px;
  display:grid; grid-template-columns:repeat(4,1fr); gap:14px; padding:10px 10px 28px 10px;
  background:#fff; border:1px solid #e2e8f0;
}
/* gridlines */
.vgrid { position:absolute; left:8px; right:8px; border-top:1px dashed #94a3b8 }
.vgrid33 { bottom:33% } .vgrid66 { bottom:66% } .vgrid85 { bottom:85% }
.vgrid-tag { position:absolute; right:4px; transform:translateY(-50%); font-size:.7rem; color:#475569; background:rgba(255,255,255,.8); padding:0 .25rem }
/* bars */
.vcol { position:relative; background:#ffffff; border:1px solid #cbd5e1; border-radius:8px }
.vstack { position:absolute; bottom:8px; left:50%; transform:translateX(-50%); height:84%; width:78%; display:flex; flex-direction:column-reverse; overflow:hidden; border-radius:6px }
.vseg { flex:1 0 auto; background:transparent }
.vseg--filled { background:currentColor }
.vcol-pct { position:absolute; bottom:6px; left:0; right:0; text-align:center; font-size:.78rem; font-weight:700; color:#0f172a }
.vcol-label { position:absolute; bottom:-26px; left:0; right:0; text-align:center; font-size:.7rem; color:#475569 }
.vcol-phase { font-weight:700 } .vcol-name { font-size:.68rem }
/* classic palette by phase */
.vcol--p1 { color:#3b82f6 }  /* blue   */
.vcol--p2 { color:#10b981 }  /* green  */
.vcol--p3 { color:#f59e0b }  /* orange */
.vcol--p4 { color:#ef4444 }  /* red    */
</style>

<style>
@page{
  size: A4;
  margin: 18mm 15mm 22mm 15mm;  /* extra bottom for footer */
  @bottom-center{
    content: "Page " counter(page) " of " counter(pages);
    font-size: 10px; color: #64748b;
  }
}
/* If your engine ignores margin boxes, fallback footer: */
@media print{
  .page-footer{
    position: fixed; bottom: 8mm; left: 0; right: 0; text-align: center;
    font-size: 10px; color: #64748b;
  }
  .page-number:before{ content: counter(page); }
  .total-pages:before{ content: counter(pages); }
}
</style>


